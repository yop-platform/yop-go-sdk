# YOP Go SDK ChangeLog

## [v1.4.40] - 2025-06-15

### 🚀 主要变更

- **🔒 修复Context泄漏**：解决内存泄漏问题，提升应用稳定性
- **📦 API现代化**：替换已弃用的 `ioutil.ReadAll` 为 `io.ReadAll`
- **🌐 逻辑修复**：修复服务器路径选择逻辑错误
- **⏱️ 超时调整**：默认请求超时10秒
- **🔄 代码质量**：修复所有Yoda条件，统一代码风格
- **🔨 工具升级**：使用staticcheck替代golangci-lint，解决Go 1.23兼容性问题

### ⚠️ 重要提醒

- 默认超时时间10秒，如需有需求请手动设置

---

## [v1.4.39] - 2025-05-19

### 📦 核心变更

- **UUID库升级**：将UUID库从 `github.com/satori/go.uuid` 替换为 `github.com/gofrs/uuid/v5`
- **错误处理优化**：移除 `log.Fatal` 调用，避免程序意外中止
- **性能提升**：使用性能更高的UUID生成方案

### 📋 相关PR

- UUID库替换 (#7)
- 移除log.Fatal调用 (#11)

---

## [v1.4.38] - 2025-05-19

### 🔧 功能增强

- **RSA请求支持**：增强RSA加密请求功能
- **响应体处理**：正确关闭响应体中的Body，防止资源泄漏
- **URL编码修复**：修复GET请求参数含%号时的报错问题
- **日志功能**：增加日志开关控制
- **密钥格式**：修复PKCS1密钥格式错误时不报错的问题

### 🔗 相关PR

- RSA请求功能 (#4)
- 关闭响应体Body (#9)
- GET请求%号修复 (#12)
- 日志开关和密钥格式修复 (#14, #15)

---

## 历史版本

| 版本    | 发版时间       | 变更内容                        |
|-------|------------|-----------------------------|
| 1.4.40| 2025-06-15 | 修复Context泄漏、API现代化、代码质量优化 |
| 1.4.39| 2025-05-19 | UUID库升级、移除log.Fatal、性能优化 |
| 1.4.38| 2025-05-19 | RSA请求支持、响应体处理、URL编码修复 |
| 4.3.9 | 2025-05-19 | 使用性能更高的uuid方案，解决循环依赖问题 |
| 4.3.8 | 2024-10-28 | 增加日志开关,修复pkcs1密钥格式不对时不报错问题  |
| 4.3.7 | 2024-09-18 | get请求参数含%号请求报错修复            |
| 4.3.6 | 2024-05-20 | 关闭响应体中的body                 |
| 4.3.5 | 2024-05-03 | userAgent中去除GOROOT          |
| 4.3.4 |            | 修复请求参数url编码问题               |
| 4.3.3 |            | 未设置请求超时时间时，赋默认值 10秒         |
| 4.3.2 |            | 响应结果支持验签                    |
| 4.3.1 |            | 支持设置请求超时时间                  |
| 4.3.0 |            | Go-SDK横空出世，支持普通请求、文件上传、文件下载 |
